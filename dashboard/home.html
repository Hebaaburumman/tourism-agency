<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
        <title>Home | Dashboard</title>
        <!-- icon link  -->
      <link rel="icon" href="/images/logo.png">
	    <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
	    <!----css3---->
        <link rel="stylesheet" href="css/custom.css">
	<!--google material icon-->
      <link href="https://fonts.googleapis.com/css2?family=Material+Icons"rel="stylesheet">
<!-- font awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  </head>
  <body>
  

<div class="wrapper">


        <div class="body-overlay"></div>
		
		<!-------------------------sidebar------------>
		     <!-- Sidebar  -->
    <nav id="sidebar">
        <div class="sidebar-header">
            <h3><img src="/images/logo.png" id="img-fluid"/></h3>
        </div>
        <ul class="list-unstyled components">
            <li  class="active">
                <a href="home.html" class="dashboard"><i class="material-icons">dashboard</i>
					<span> Home </span></a>
            </li>
			<li  class="">
                <a href="/dashboard/des/destinations.html" class="dashboard"><i class="material-icons">dashboard</i>
					<span>Destinations</span></a>
            </li>
            <li  class="">
                <a href="/dashboard/user/guids.html" class="dashboard"><i class="material-icons">dashboard</i>
					<span> Tour guids </span></a>
            </li>
            <li  class="">
              <a href="/dashboard/user/User.html" class="dashboard"><i class="material-icons">dashboard</i>
					<span>Users</span></a>
            </li>
            <li  class="">
               <a href="/dashboard/tours/jordanTour.html" class="dashboard"><i class="material-icons">dashboard</i>
					<span>Jordan Tours</span></a>
            </li>
            <li  class="">
                <a href="/dashboard/tours/palestineTour.html" class="dashboard"><i class="material-icons">dashboard</i>
					<span>Palestine Tours</span></a>
            </li>
            <li  class="">
                <a href="/dashboard/booking.html" class="dashboard"><i class="material-icons">dashboard</i>
                <span> Booking </span></a>
            </li>
            <li  class="">
                <a href="/dashboard/adminProfile.html" class="dashboard"><i class="material-icons">dashboard</i>
                    <span> Admin Profile</span></a>
            </li>
               
            </ul>

           
        </nav>
		
		
		
		
		<!--------page-content---------------->
		
		<div id="content">
		   
		   
		   <div class="top-navbar">
		      <div class="xp-topbar">

                <!-- Start XP Row -->
                <div class="row"> 
                    <!-- Start XP Col -->
                    <div class="col-2 col-md-1 col-lg-1 order-2 order-md-1 align-self-center">
                        <div class="xp-menubar">
                               <span class="material-icons text-white">signal_cellular_alt
							   </span>
                         </div>
                    </div> 
                    <!-- End XP Col -->

                    <!-- Start XP Col -->
                      <!-- Start XP Col -->
                      <div class="col-md-5 col-lg-3 order-3 order-md-2">
                        <div class="xp-searchbar">
                            
                        </div>
                    </div>
                    <!-- End XP Col -->

                
                    <div class=" logout col-10 col-md-6 col-lg-8 order-1 order-md-3">
                      <button id="LOG">Logout</button>
                    </div>
                </div> 
                <!-- End XP Row -->

            </div>
		     <div class="xp-breadcrumbbar text-center ">
                <h4 class="page-title">Dashboard</h4>  
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#"> Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
                  </ol>                
            </div>
			
		   </div>
       <div class="main-content">
        <div class="panel panel-headline">
          <div class="panel-heading">
            <h3 class="panel-title">Weekly Overview</h3>
          </div>
          <div class="panel-body">
            <div class="row">
              <div class="col-md-3">
                <div class="metric">
                  <span class="icon"><i class="fa-solid fa-bookmark"></i></span>
                  <p>
                    <span class="number" id="bookingnumbers">1,252</span>
                    <span class="title">All Bookings </span>
                  </p>
                </div>
              </div>
              <div class="col-md-3">
                <div class="metric">
                  <span class="icon"><i class="fa fa-shopping-bag"></i></span>
                  <p>
                    <span class="number" id="toursNumbers">203 </span>
                    <span class="title">Tours number </span>
                  </p>
                </div>
              </div>
              <div class="col-md-3">
                <div class="metric" id="metricContainer">
                  <span class="icon"><i class="fa fa-download"></i></span>
                  <p>
                    <span class="number" id="guidesNumber">274,678 JD</span>
                    <span class="title"> Tour Guide number</span>
                  </p>
                </div>
              </div>
              <div class="col-md-3">
                <div class="metric">
                  <span class="icon"><i class="fa fa-bar-chart"></i></span>
                  <p>
                    <span class="number" id="usersNumber">0 JD</span>
                    <span class="title">Number Users</span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
       </div>
    </div>
    
</div>

  
     <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
   <script src="js/jquery-3.3.1.slim.min.js"></script>
   <script src="js/popper.min.js"></script>
   <script src="js/bootstrap.min.js"></script>
   <script src="js/jquery-3.3.1.min.js"></script>
  
  
  <script type="text/javascript">
        
		$(document).ready(function(){
		  $(".xp-menubar").on('click',function(){
		    $('#sidebar').toggleClass('active');
			$('#content').toggleClass('active');
		  });
		  
		   $(".xp-menubar,.body-overlay").on('click',function(){
		     $('#sidebar,.body-overlay').toggleClass('show-nav');
		   });
		  
		});
		
</script>
<script>

  /// Logt out:
  let logoutButtonNav = document.getElementById('LOG');
  
  const isloggedin = sessionStorage.getItem("isLoggedIn");
  if (isloggedin == 'true') {
    logoutButtonNav.addEventListener('click', (e) => {
      window.location.href = '/index/index.html';
      sessionStorage.clear();
    });
  }

/// count booking numbers:
  document.addEventListener("DOMContentLoaded", function () {
			fetch('http://localhost/tourism/t_api/count_booking.php')
				.then(response => {
					return response.json();
				})
				.then(data => {
          console.log(data)
					document.getElementById('bookingnumbers').textContent = data.number_booking;
				})
				.catch(error => {
					console.error('Error fetching data:', error);
				});
		})

  /// count tours numbers:
  document.addEventListener("DOMContentLoaded", function () {
			fetch('http://localhost/tourism/t_api/count_tours.php')
				.then(response => {
					return response.json();
				})
				.then(data => {
          console.log(data)
					document.getElementById('toursNumbers').textContent = data.number_tours;
				})
				.catch(error => {
					console.error('Error fetching data:', error);
				});
		})

  /// count users numbers:
    document.addEventListener("DOMContentLoaded", function () {
			fetch('http://localhost/tourism/t_api/count_users.php')
				.then(response => {
					return response.json();
				})
				.then(data => {
          console.log(data)
					document.getElementById('usersNumber').textContent = data.number_user;
				})
				.catch(error => {
					console.error('Error fetching data:', error);
				});
		})

    /// count tour guides numbers:
     document.addEventListener("DOMContentLoaded", function () {
			fetch('http://localhost/tourism/t_api/count_tour_guide.php')
				.then(response => {
					return response.json();
				})
				.then(data => {
          console.log(data)
					document.getElementById('guidesNumber').textContent = data.number_tour_guide;
				})
				.catch(error => {
					console.error('Error fetching data:', error);
				});
		});
  </script>
  
  



  </body>
  
  </html>


